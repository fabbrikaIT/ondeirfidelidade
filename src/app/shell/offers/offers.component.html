<div class="container-fluid">
    <app-page-header icon="fa-percent" heading="Manutenção de Ofertas e Descontos"></app-page-header>
    <div class="row mb-3">
      <div class="col-12 col-md-6">
        <div class="d-inline">
          <div class="float-left text-center">
              <span class="font-weight-bold">Status:</span>
          </div>

          <select class="form-control float-right w-75" [(ngModel)]="selectedStatusFilter" (change)="onSelectChange()">
              <option value="0" selected>Todos...</option>
              <option value="1">Ativos</option>
              <option value="2">Inativos</option>
          </select>
        </div>
      </div>
      <div class="col-12 col-md-6">
        <button class="btn btn-primary float-right" routerLink="details">Criar Oferta</button>
      </div>
    </div>
    <div class="row">
      <table class="table table-striped table-hover">
        <thead>
          <th scope="col">Id</th>
          <th scope="col">Título</th>
          <th scope="col">Início Oferta</th>
          <th scope="col">Valida até</th>
          <th scope="col">Tipo</th>
          <th scope="col">Status</th>
        </thead>
        <tbody>
          <tr *ngFor="let offer of offers" routerLink="details/{{offer.id}}">
            <th scope="row">{{offer.id}}</th>
            <td>{{offer.title}}</td>
            <td>{{offer.startDate | date:'dd/MM/yyyy'}}</td>
            <td>{{offer.endDate | date:'dd/MM/yyyy'}}</td>
            <td>
              <span *ngIf="offer.type === 1">Desconto</span>
              <span *ngIf="offer.type === 2">Promocional</span>
            </td>
            <td>
                <label class="btn btn-danger btn-sm" *ngIf="offer.status === 2">
                    Não Publicado
                </label>
                <label class="btn btn-success btn-sm" *ngIf="offer.status === 1">
                    Ativo
                </label>
                <label class="btn btn-info btn-sm" *ngIf="offer.status === 3">
                    Finalizado
                </label>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <app-loading [isProcessing]="isProcessing"></app-loading>
